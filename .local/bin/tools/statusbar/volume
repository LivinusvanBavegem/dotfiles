#!/bin/sh

vol=$(pulsemixer --get-volume | awk '{print $1}')

if [ "$vol" -eq "0" ]; then
	icon=""
elif [ "$vol" -gt "70" ]; then
	icon=""
else
	icon=""
fi

[ "$(pulsemixer --get-mute)" = "1" ] && icon="" && vol="M"

if amixer get Capture | tail -2 | grep -q '\[on\]'; then
	mic=""
else
	mic=""
fi

printf "%s %s %s\\n" "$vol" "$icon" "$mic"

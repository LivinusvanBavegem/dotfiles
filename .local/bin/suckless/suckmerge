#!/bin/bash

# for merging all branches into the master branch of a git directory according to my suckless patch structure
# e.g. see dwm/st/etc
# by uoou, checkout gitlab.com/uoou/dotfiles

suckdiff &&
git reset --hard origin/base &&
for branch in $(git for-each-ref --format='%(refname)' refs/heads/ | cut -d'/' -f3); do
	if [[ ("$branch" != "master") && ("$branch" != "base") ]];then
		echo $branch
		git merge $branch -m $branch
	fi
done
make && sudo make clean install

